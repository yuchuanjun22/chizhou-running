<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ± å·æ‚¦è·‘å›¢ - è·‘æ­¥æ‰“å¡ç³»ç»Ÿ</title>
    <!-- ä½¿ç”¨å›½å†…CDN -->
    <script src="https://cdn.bootcdn.net/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/leancloud-storage/4.13.2/av-min.js"></script>
    <style>
        /* æ‰€æœ‰CSSæ ·å¼ä¿æŒä¸å˜ */
        :root {
            --primary: #3498db;
            --secondary: #2ecc71;
            --accent: #e74c3c;
            --light: #f8f9fa;
            --dark: #2c3e50;
            --gray: #7f8c8d;
            --night-run: #667eea;
            --soul-run: #9b59b6;
            --gold: #ffd700;
            --silver: #c0c0c0;
            --bronze: #cd7f32;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
            min-height: 100vh;
            color: var(--dark);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        /* åŠ è½½æç¤ºæ ·å¼ */
        .loading {
            text-align: center;
            padding: 20px;
            color: var(--primary);
        }
        
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 2s linear infinite;
            margin: 0 auto 10px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* é”™è¯¯æç¤ºæ ·å¼ */
        .error-panel {
            background: #ffeaa7;
            border: 2px solid #fdcb6e;
            border-radius: 8px;
            padding: 15px;
            margin: 10px;
            text-align: center;
        }
        
        .error-panel h3 {
            color: #e74c3c;
            margin-bottom: 10px;
        }
        
        /* å…¶ä½™CSSæ ·å¼ä¿æŒä¸å˜ */
        header {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            padding: 25px 30px;
            text-align: center;
            position: relative;
        }
        
        .logo {
            position: absolute;
            left: 30px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 20px;
            background-color: var(--light);
        }
        
        @media (min-width: 768px) {
            .dashboard {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            text-align: center;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        .form-container {
            padding: 20px 30px;
            background-color: var(--light);
            border-bottom: 1px solid #e0e0e0;
        }
        
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .form-group {
            flex: 1;
            min-width: 200px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--dark);
        }
        
        .form-control {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        .pace-calculator {
            background: #e8f4fc;
            padding: 10px;
            border-radius: 6px;
            margin-top: 5px;
            font-size: 0.9rem;
        }
        
        .pace-result {
            font-weight: bold;
            color: var(--primary);
            margin-left: 5px;
        }
        
        .feeling-custom {
            margin-top: 5px;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 1rem;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-success {
            background-color: var(--secondary);
            color: white;
        }
        
        .btn-warning {
            background-color: #f39c12;
            color: white;
        }
        
        .btn-info {
            background-color: #17a2b8;
            color: white;
        }
        
        .btn-danger {
            background-color: var(--accent);
            color: white;
        }
        
        .btn-night {
            background: linear-gradient(135deg, var(--night-run), #764ba2);
            color: white;
        }
        
        .btn-soul {
            background: linear-gradient(135deg, var(--soul-run), #8e44ad);
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .tabs {
            display: flex;
            background: white;
            border-bottom: 1px solid #e0e0e0;
            overflow-x: auto;
        }
        
        .tab {
            padding: 15px 25px;
            cursor: pointer;
            font-weight: 600;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
        }
        
        .tab.active {
            border-bottom-color: var(--primary);
            color: var(--primary);
        }
        
        .tab-content {
            display: none;
            padding: 20px 30px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        th {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            padding: 15px 12px;
            text-align: left;
            font-weight: 600;
            position: sticky;
            top: 0;
        }
        
        .night-run-header {
            background: linear-gradient(90deg, var(--night-run), #764ba2);
        }
        
        .soul-run-header {
            background: linear-gradient(90deg, var(--soul-run), #8e44ad);
        }
        
        td {
            padding: 12px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        tr:nth-child(even) {
            background-color: var(--light);
        }
        
        tr:hover {
            background-color: #e8f4fc;
        }
        
        .ranking-badge {
            display: inline-block;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            text-align: center;
            line-height: 24px;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .ranking-badge.gold {
            background: var(--gold);
        }
        
        .ranking-badge.silver {
            background: var(--silver);
        }
        
        .ranking-badge.bronze {
            background: var(--bronze);
        }
        
        .ranking-badge.night {
            background: var(--night-run);
        }
        
        .ranking-badge.soul {
            background: var(--soul-run);
        }
        
        .feeling-badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            display: inline-block;
        }
        
        .feeling-excellent {
            background-color: #e8f6f3;
            color: #27ae60;
        }
        
        .feeling-good {
            background-color: #eaf2f8;
            color: #2980b9;
        }
        
        .feeling-normal {
            background-color: #fef9e7;
            color: #f39c12;
        }
        
        .feeling-tired {
            background-color: #fdedec;
            color: #e74c3c;
        }
        
        .feeling-custom-style {
            background-color: #f0e6ff;
            color: #8e44ad;
        }
        
        .time-type-badge {
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            display: inline-block;
            text-align: center;
            min-width: 60px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .morning-run {
            background: linear-gradient(135deg, #ff9a00, #ff6a00);
            color: white;
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }
        
        .night-run {
            background: linear-gradient(135deg, var(--night-run), #764ba2);
            color: white;
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }
        
        .night-runner-title {
            display: inline-block;
            background: linear-gradient(135deg, var(--night-run), #764ba2);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            margin-left: 10px;
            font-size: 0.9rem;
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.3);
            animation: glow 2s ease-in-out infinite alternate;
        }
        
        .soul-runner-title {
            display: inline-block;
            background: linear-gradient(135deg, var(--soul-run), #8e44ad);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            margin-left: 10px;
            font-size: 0.9rem;
            box-shadow: 0 3px 10px rgba(155, 89, 182, 0.3);
            animation: soul-glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes glow {
            from {
                box-shadow: 0 3px 10px rgba(102, 126, 234, 0.3);
            }
            to {
                box-shadow: 0 3px 20px rgba(102, 126, 234, 0.6);
            }
        }
        
        @keyframes soul-glow {
            from {
                box-shadow: 0 3px 10px rgba(155, 89, 182, 0.3);
            }
            to {
                box-shadow: 0 3px 20px rgba(155, 89, 182, 0.6);
            }
        }
        
        .chart-container {
            height: 300px;
            margin-top: 20px;
        }
        
        .data-management {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .data-management h3 {
            color: var(--dark);
            margin-bottom: 15px;
        }
        
        .import-export-options {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .file-input {
            display: none;
        }
        
        .file-label {
            display: inline-block;
            padding: 10px 20px;
            background: var(--primary);
            color: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .file-label:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        .import-format {
            background: #fff9e6;
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
            border-left: 4px solid #f39c12;
        }
        
        .import-format h4 {
            margin-bottom: 10px;
            color: var(--dark);
        }
        
        .import-format pre {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
            font-size: 14px;
        }
        
        footer {
            background: linear-gradient(90deg, var(--dark), #34495e);
            color: white;
            text-align: center;
            padding: 20px;
            font-size: 0.95rem;
        }
        
        .footer-text {
            margin-bottom: 5px;
        }
        
        .footer-slogan {
            font-style: italic;
            opacity: 0.8;
        }
        
        .message {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 6px;
            color: white;
            font-weight: 600;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transform: translateX(150%);
            transition: transform 0.3s ease;
        }
        
        .message.success {
            background-color: var(--secondary);
        }
        
        .message.error {
            background-color: var(--accent);
        }
        
        .message.show {
            transform: translateX(0);
        }
        
        .no-data {
            text-align: center;
            padding: 40px;
            color: var(--gray);
            font-style: italic;
        }
        
        .night-runner-section, .soul-runner-section {
            background: linear-gradient(135deg, #f0f4ff, #e6f0ff);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid var(--night-run);
        }
        
        .soul-runner-section {
            background: linear-gradient(135deg, #f8f0ff, #f0e6ff);
            border-left: 5px solid var(--soul-run);
        }
        
        .night-runner-title-main, .soul-runner-title-main {
            font-size: 1.5rem;
            color: var(--night-run);
            margin-bottom: 15px;
            text-align: center;
            font-weight: bold;
        }
        
        .soul-runner-title-main {
            color: var(--soul-run);
        }
        
        .night-runner-grid, .soul-runner-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .night-runner-card, .soul-runner-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.1);
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .soul-runner-card {
            box-shadow: 0 3px 10px rgba(155, 89, 182, 0.1);
        }
        
        .night-runner-card.top, .soul-runner-card.top {
            border-color: var(--night-run);
            transform: scale(1.05);
        }
        
        .soul-runner-card.top {
            border-color: var(--soul-run);
        }
        
        .night-runner-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }
        
        .soul-runner-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(155, 89, 182, 0.2);
        }
        
        .night-runner-name, .soul-runner-name {
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }
        
        .night-runner-stats, .soul-runner-stats {
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        .feeling-text {
            font-style: italic;
            margin-top: 5px;
            color: var(--dark);
        }

        /* å‚ä¸äººå‘˜ç›¸å…³æ ·å¼ */
        .clickable {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .clickable:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .runners-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .runner-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            border-left: 4px solid var(--primary);
            transition: all 0.3s ease;
        }

        .runner-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }

        .runner-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .runner-name {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--dark);
        }

        .runner-rank {
            background: var(--primary);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .runner-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--gray);
            margin-top: 2px;
        }

        .runner-details {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }

        .detail-label {
            color: var(--gray);
        }

        .detail-value {
            font-weight: 500;
        }

        .top-runner {
            border-left-color: var(--gold);
            background: linear-gradient(135deg, #fff9e6, #fff);
        }

        .runner-badges {
            display: flex;
            gap: 5px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .badge {
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .badge-night {
            background: var(--night-run);
            color: white;
        }

        .badge-soul {
            background: var(--soul-run);
            color: white;
        }

        .badge-consistent {
            background: var(--secondary);
            color: white;
        }

        .badge-fast {
            background: var(--accent);
            color: white;
        }

        .badge-sponsor-gold {
            background: var(--gold);
            color: black;
        }

        .badge-sponsor-silver {
            background: var(--silver);
            color: black;
        }

        .badge-sponsor-bronze {
            background: var(--bronze);
            color: white;
        }

        /* èµ„é‡‘ç®¡ç†æ ·å¼ */
        .funds-summary {
            background: linear-gradient(135deg, #f0f8ff, #e6f7ff);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .funds-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .funds-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .funds-actions {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .sponsor-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .funds-records {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            margin-bottom: 20px;
        }

        .usage-plan {
            background: #fff9e6;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #f39c12;
        }

        .usage-plan ul {
            list-style: none;
            padding: 0;
        }

        .usage-plan li {
            padding: 8px 0;
            font-size: 1rem;
        }

        .sponsor-record {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            border-bottom: 1px solid #eee;
        }

        .sponsor-record:last-child {
            border-bottom: none;
        }

        .sponsor-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sponsor-amount {
            font-weight: bold;
            color: var(--secondary);
        }

        .sponsor-date {
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* æ¿€åŠ±æªæ–½æ ·å¼ */
        .rewards-section {
            background: linear-gradient(135deg, #fff0f5, #ffe4e6);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #e91e63;
        }

        .rewards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .reward-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .reward-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .reward-card.premium {
            border-color: var(--gold);
            background: linear-gradient(135deg, #fff9e6, #fff);
        }

        .reward-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .reward-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--dark);
        }

        .reward-level {
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .level-basic {
            background: var(--primary);
            color: white;
        }

        .level-premium {
            background: var(--gold);
            color: black;
        }

        .reward-description {
            color: var(--gray);
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .reward-benefits {
            list-style: none;
            padding: 0;
        }

        .reward-benefits li {
            padding: 5px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .reward-benefits li:before {
            content: "âœ“";
            color: var(--secondary);
            font-weight: bold;
        }

        .points-system {
            background: linear-gradient(135deg, #e8f5e8, #d0f0d0);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid var(--secondary);
        }

        .points-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .points-table th {
            background: var(--secondary);
        }

        .points-table td {
            padding: 12px;
            text-align: center;
        }

        .points-table tr:nth-child(even) {
            background: #f8fff8;
        }
        
        /* ç¼–è¾‘åŒºåŸŸæ ·å¼ */
        .editable-section {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px dashed #ddd;
        }
        
        .editable-controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .edit-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .save-btn {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .cancel-btn {
            background: var(--gray);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .editable-textarea {
            width: 100%;
            min-height: 100px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            resize: vertical;
        }
        
        .usage-record-form {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        
        .usage-record {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            border-bottom: 1px solid #eee;
            background: white;
            margin-bottom: 10px;
            border-radius: 6px;
        }
        
        .usage-record:last-child {
            border-bottom: none;
        }
        
        .usage-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .usage-amount {
            font-weight: bold;
            color: var(--accent);
        }
        
        .usage-date {
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        .usage-description {
            color: var(--dark);
        }
        
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .form-row {
                flex-direction: column;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                padding: 12px 15px;
                border-bottom: 1px solid #e0e0e0;
            }
            
            .tab.active {
                border-bottom: 3px solid var(--primary);
            }
            
            .logo {
                position: static;
                transform: none;
                margin-bottom: 10px;
            }
            
            header {
                text-align: center;
            }
            
            .import-export-options {
                flex-direction: column;
            }
            
            .night-runner-grid, .soul-runner-grid {
                grid-template-columns: 1fr;
            }

            .runners-grid {
                grid-template-columns: 1fr;
            }

            .runner-stats {
                grid-template-columns: 1fr 1fr;
            }

            .funds-stats {
                grid-template-columns: 1fr;
            }

            .sponsor-options {
                flex-direction: column;
            }

            .rewards-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- é”™è¯¯æç¤ºé¢æ¿ -->
        <div id="errorPanel" class="error-panel" style="display: none;">
            <h3>âš ï¸ ç½‘ç»œè¿æ¥é—®é¢˜</h3>
            <p>ç³»ç»Ÿæ­£åœ¨ä½¿ç”¨æœ¬åœ°æ¨¡å¼è¿è¡Œï¼Œæ•°æ®å°†ä¿å­˜åœ¨æµè§ˆå™¨æœ¬åœ°å­˜å‚¨ä¸­ã€‚</p>
            <button id="retryButton" class="btn btn-primary" style="margin-top: 10px;">é‡è¯•è¿æ¥</button>
        </div>

        <!-- åŠ è½½æç¤º -->
        <div id="loadingIndicator" class="loading">
            <div class="loading-spinner"></div>
            <p>æ­£åœ¨åˆå§‹åŒ–ç³»ç»Ÿ...</p>
        </div>

        <header>
            <div class="logo">ğŸƒâ€â™‚ï¸ æ± å·æ‚¦è·‘å›¢</div>
            <h1>è·‘æ­¥æ‰“å¡ç³»ç»Ÿ</h1>
            <p class="subtitle">å¥åº·ç”Ÿæ´»ï¼Œä»è·‘æ­¥å¼€å§‹</p>
        </header>
        
        <div class="dashboard">
            <div class="stat-card">
                <div class="stat-value" id="totalRuns">0</div>
                <div class="stat-label">æ€»è·‘æ­¥æ¬¡æ•°</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalDistance">0 km</div>
                <div class="stat-label">æ€»é‡Œç¨‹</div>
            </div>
            <div class="stat-card clickable" id="runnersCard">
                <div class="stat-value" id="totalRunners">0</div>
                <div class="stat-label">å‚ä¸äººæ•° <small>(ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…)</small></div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="avgPace">0:00</div>
                <div class="stat-label">å¹³å‡é…é€Ÿ</div>
            </div>
        </div>
        
        <!-- å…¶ä½™HTMLå†…å®¹ä¿æŒä¸å˜ -->
        <div class="form-container">
            <h2 style="margin-bottom: 15px; color: var(--dark);">ä»Šæ—¥æ‰“å¡</h2>
            <div class="form-row">
                <div class="form-group">
                    <label for="runnerName">è·‘æ­¥è€…å§“å</label>
                    <input type="text" id="runnerName" class="form-control" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å">
                </div>
                <div class="form-group">
                    <label for="runDate">è·‘æ­¥æ—¥æœŸ</label>
                    <input type="date" id="runDate" class="form-control">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="runDistance">è·‘æ­¥é‡Œç¨‹ (km)</label>
                    <input type="number" id="runDistance" class="form-control" placeholder="ä¾‹å¦‚ï¼š5.2" step="0.1" min="0">
                </div>
                <div class="form-group">
                    <label for="runTime">è·‘æ­¥æ—¶é•¿ (åˆ†é’Ÿ)</label>
                    <input type="number" id="runTime" class="form-control" placeholder="ä¾‹å¦‚ï¼š28" min="0">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="runPace">è·‘æ­¥é…é€Ÿ (åˆ†é’Ÿ/å…¬é‡Œ)</label>
                    <input type="text" id="runPace" class="form-control" placeholder="è‡ªåŠ¨è®¡ç®—" readonly>
                    <div class="pace-calculator">
                        é…é€Ÿè®¡ç®—: <span id="paceResult" class="pace-result">--:--</span>
                        <small style="color: var(--gray); display: block; margin-top: 5px;">
                            æ ¹æ®é‡Œç¨‹å’Œæ—¶é•¿è‡ªåŠ¨è®¡ç®—
                        </small>
                    </div>
                </div>
                <div class="form-group">
                    <label for="runFeeling">è·‘æ­¥æ„Ÿå—</label>
                    <select id="runFeeling" class="form-control">
                        <option value="ç²¾åŠ›å……æ²›">ç²¾åŠ›å……æ²›</option>
                        <option value="çŠ¶æ€è‰¯å¥½">çŠ¶æ€è‰¯å¥½</option>
                        <option value="æ­£å¸¸" selected>æ­£å¸¸</option>
                        <option value="æœ‰ç‚¹ç–²æƒ«">æœ‰ç‚¹ç–²æƒ«</option>
                        <option value="custom">è‡ªå®šä¹‰æ„Ÿå—...</option>
                    </select>
                    <input type="text" id="customFeeling" class="form-control feeling-custom" placeholder="è¯·è¾“å…¥æ‚¨çš„æ„Ÿå—..." style="display: none;">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="runType">è·‘æ­¥æ—¶é—´</label>
                    <select id="runType" class="form-control">
                        <option value="æ™¨è·‘">æ™¨è·‘</option>
                        <option value="å¤œè·‘">å¤œè·‘</option>
                    </select>
                </div>
                <div class="form-group" style="display: flex; align-items: flex-end;">
                    <button id="addRecordBtn" class="btn btn-success" style="width: 100%;">
                        æäº¤æ‰“å¡
                    </button>
                </div>
            </div>
        </div>
        
        <!-- æ ‡ç­¾é¡µ -->
        <div class="tabs">
            <div class="tab active" data-tab="weekly">å‘¨æ’å</div>
            <div class="tab" data-tab="monthly">æœˆæ’å</div>
            <div class="tab" data-tab="yearly">å¹´æ’å</div>
            <div class="tab" data-tab="pace">é…é€Ÿæ¦œ</div>
            <div class="tab" data-tab="night">å¤œè·‘æ¦œ</div>
            <div class="tab" data-tab="soul">å¿ƒçµè·‘è€…</div>
            <div class="tab" data-tab="consistency">åšæŒå¤©æ•°æ¦œ</div>
            <div class="tab" data-tab="runners">å‚ä¸äººå‘˜</div>
            <div class="tab" data-tab="rewards">æ¿€åŠ±æªæ–½</div>
            <div class="tab" data-tab="funds">å›¢é˜Ÿèµ„é‡‘</div>
            <div class="tab" data-tab="records">æ‰“å¡è®°å½•</div>
            <div class="tab" data-tab="charts">æ•°æ®å›¾è¡¨</div>
            <div class="tab" data-tab="data-management">æ•°æ®ç®¡ç†</div>
        </div>
        
        <!-- æ ‡ç­¾é¡µå†…å®¹ -->
        <div class="tab-content active" id="weekly-tab">
            <h2>æœ¬å‘¨è·‘æ­¥æ’å</h2>
            <div id="weeklyContent">
                <!-- å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="tab-content" id="monthly-tab">
            <h2>æœ¬æœˆè·‘æ­¥æ’å</h2>
            <div id="monthlyContent">
                <!-- å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="tab-content" id="yearly-tab">
            <h2>æœ¬å¹´è·‘æ­¥æ’å</h2>
            <div id="yearlyContent">
                <!-- å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="tab-content" id="pace-tab">
            <h2>é…é€Ÿæ’è¡Œæ¦œ</h2>
            <div id="paceContent">
                <!-- å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="tab-content" id="night-tab">
            <h2>å¤œè·‘æ’è¡Œæ¦œ <span class="night-runner-title">å¤œè·‘ä¾ è¯„é€‰</span></h2>
            <div id="nightContent">
                <!-- å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="tab-content" id="soul-tab">
            <h2>å¿ƒçµè·‘è€… <span class="soul-runner-title">æ„Ÿæ‚Ÿä¹‹æ˜Ÿè¯„é€‰</span></h2>
            <div id="soulContent">
                <!-- å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="tab-content" id="consistency-tab">
            <h2>åšæŒå¤©æ•°æ’è¡Œæ¦œ</h2>
            <div id="consistencyContent">
                <!-- å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="tab-content" id="runners-tab">
            <h2>æ‰€æœ‰å‚ä¸äººå‘˜ <span style="font-size: 1rem; color: var(--gray);">(æŒ‰æ€»é‡Œç¨‹æ’åº)</span></h2>
            <div id="runnersContent">
                <!-- å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="tab-content" id="rewards-tab">
            <h2>ğŸ† æ¿€åŠ±æªæ–½ä¸å¥–åŠ±ä½“ç³»</h2>
            
            <div class="rewards-section">
                <h3>ğŸ èµåŠ©è€…ä¸“å±æƒç›Š</h3>
                <p>æ„Ÿè°¢æ‚¨å¯¹å›¢é˜Ÿå‘å±•çš„æ”¯æŒï¼ŒèµåŠ©è€…å°†è·å¾—ä»¥ä¸‹ä¸“å±æƒç›Šï¼š</p>
                
                <div class="rewards-grid">
                    <div class="reward-card">
                        <div class="reward-header">
                            <div class="reward-title">çƒ­å¿ƒèµåŠ©è€…</div>
                            <div class="reward-level level-basic">20-49å…ƒ</div>
                        </div>
                        <div class="reward-description">æ„Ÿè°¢æ‚¨å¯¹å›¢é˜Ÿçš„æ”¯æŒï¼</div>
                        <ul class="reward-benefits">
                            <li>ä¸“å±èµåŠ©è€…å¾½ç« æ ‡è¯†</li>
                            <li>æœˆåº¦æ„Ÿè°¢ä¿¡</li>
                            <li>å›¢é˜Ÿæ´»åŠ¨ä¼˜å…ˆæŠ¥åæƒ</li>
                            <li>èµåŠ©è€…ä¸“å±è·‘æ­¥è´´çº¸</li>
                        </ul>
                    </div>
                    
                    <div class="reward-card">
                        <div class="reward-header">
                            <div class="reward-title">é“¶ç‰ŒèµåŠ©è€…</div>
                            <div class="reward-level level-basic">50-99å…ƒ</div>
                        </div>
                        <div class="reward-description">æ‚¨çš„æ”¯æŒè®©å›¢é˜Ÿæ›´ç²¾å½©ï¼</div>
                        <ul class="reward-benefits">
                            <li>é“¶ç‰ŒèµåŠ©è€…ä¸“å±å¾½ç« </li>
                            <li>å®šåˆ¶è¿åŠ¨å¤´å·¾</li>
                            <li>å­£åº¦èµåŠ©è€…ç­”è°¢ä¼šé‚€è¯·</li>
                            <li>å›¢é˜Ÿçºªå¿µç…§ç‰‡é›†</li>
                            <li>æ´»åŠ¨è´¹ç”¨8æŠ˜ä¼˜æƒ </li>
                        </ul>
                    </div>
                    
                    <div class="reward-card premium">
                        <div class="reward-header">
                            <div class="reward-title">é‡‘ç‰ŒèµåŠ©è€…</div>
                            <div class="reward-level level-premium">100å…ƒä»¥ä¸Š</div>
                        </div>
                        <div class="reward-description">å›¢é˜Ÿå‘å±•çš„åšå®åç›¾ï¼</div>
                        <ul class="reward-benefits">
                            <li>é‡‘ç‰ŒèµåŠ©è€…é—ªè€€å¾½ç« </li>
                            <li>å®šåˆ¶é˜Ÿæœä¸€å¥—</li>
                            <li>å¹´åº¦ä¼˜ç§€è·‘è€…è¯„é€‰æŠ•ç¥¨æƒ</li>
                            <li>ä¸“å±èµåŠ©è€…è£èª‰å¢™å±•ç¤º</li>
                            <li>æ´»åŠ¨è´¹ç”¨5æŠ˜ä¼˜æƒ </li>
                            <li>å›¢é˜Ÿå†³ç­–å»ºè®®æƒ</li>
                        </ul>
                    </div>
                </div>
                
                <!-- å¯ç¼–è¾‘çš„èµåŠ©è€…æƒç›Šè¯´æ˜ -->
                <div class="editable-section">
                    <h4>èµåŠ©è€…æƒç›Šè¯´æ˜ï¼ˆå¯ç¼–è¾‘ï¼‰</h4>
                    <div id="sponsorRightsContent">
                        <!-- å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    <div class="editable-controls">
                        <button class="edit-btn" id="editSponsorRights">ç¼–è¾‘</button>
                    </div>
                </div>
            </div>

            <div class="points-system">
                <h3>â­ è·‘æ­¥ç§¯åˆ†å…‘æ¢ä½“ç³»</h3>
                <p>æ¯è·‘æ­¥1å…¬é‡Œè·å¾—1ç§¯åˆ†ï¼Œç§¯åˆ†å¯å…‘æ¢ä¸°å¯Œå¥–åŠ±ï¼š</p>
                
                <table class="points-table">
                    <thead>
                        <tr>
                            <th>ç§¯åˆ†åŒºé—´</th>
                            <th>å¯å…‘æ¢å¥–åŠ±</th>
                            <th>å¤‡æ³¨</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>100-299åˆ†</td>
                            <td>è¿åŠ¨è¢œã€å¤´å·¾ã€æ°´å£¶</td>
                            <td>åŸºç¡€è£…å¤‡</td>
                        </tr>
                        <tr>
                            <td>300-499åˆ†</td>
                            <td>è·‘æ­¥è…°åŒ…ã€æ‰‹å¥—ã€ç©ºé¡¶å¸½</td>
                            <td>å®ç”¨é…ä»¶</td>
                        </tr>
                        <tr>
                            <td>500-999åˆ†</td>
                            <td>è¿åŠ¨Tæ¤ã€çŸ­è£¤ã€è·‘æ­¥è¢œ</td>
                            <td>ä¸“ä¸šè£…å¤‡</td>
                        </tr>
                        <tr>
                            <td>1000åˆ†ä»¥ä¸Š</td>
                            <td>å®šåˆ¶é˜Ÿæœã€è·‘æ­¥é‹ã€è¿åŠ¨æ‰‹è¡¨</td>
                            <td>é«˜çº§å¥–åŠ±</td>
                        </tr>
                    </tbody>
                </table>
                
                <!-- å¯ç¼–è¾‘çš„ç§¯åˆ†å…‘æ¢è¯´æ˜ -->
                <div class="editable-section">
                    <h4>ç§¯åˆ†å…‘æ¢è¯´æ˜ï¼ˆå¯ç¼–è¾‘ï¼‰</h4>
                    <div id="pointsExchangeContent">
                        <!-- å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    <div class="editable-controls">
                        <button class="edit-btn" id="editPointsExchange">ç¼–è¾‘</button>
                    </div>
                </div>
            </div>

            <div class="funds-usage">
                <h3>ğŸ’« æœˆåº¦/å­£åº¦ç‰¹åˆ«å¥–åŠ±</h3>
                <div class="usage-plan">
                    <ul>
                        <li>ğŸƒâ€â™‚ï¸ <strong>æœˆåº¦è·‘é‡ç‹</strong> - å½“æœˆè·‘é‡å‰ä¸‰åè·å¾—å®šåˆ¶å¥–ç‰Œ</li>
                        <li>ğŸŒ™ <strong>å¤œè·‘ä¹‹æ˜Ÿ</strong> - æœˆåº¦å¤œè·‘æ¬¡æ•°æœ€å¤šè€…è·å¾—å¤œè·‘è£…å¤‡</li>
                        <li>ğŸ’– <strong>å¿ƒçµè·‘è€…</strong> - ç”¨å¿ƒæ„Ÿå—åˆ†äº«æœ€å¤šè€…è·å¾—ç‰¹åˆ«ç¤¼å“</li>
                        <li>ğŸ“… <strong>å…¨å‹¤å¥–</strong> - å½“æœˆå…¨å‹¤è·‘è€…è·å¾—è¿åŠ¨è¡¥ç»™åŒ…</li>
                        <li>âš¡ <strong>è¿›æ­¥å¥–</strong> - é…é€Ÿæå‡æœ€å¿«è€…è·å¾—ä¸“ä¸šæŒ‡å¯¼</li>
                        <li>ğŸŒŸ <strong>å¹´åº¦å¤§å¥–</strong> - å¹´ç»ˆè¯„é€‰å„é¡¹æœ€ä½³ï¼Œä¸°åšå¥–åŠ±</li>
                    </ul>
                </div>
                
                <!-- å¯ç¼–è¾‘çš„ç‰¹åˆ«å¥–åŠ±è¯´æ˜ -->
                <div class="editable-section">
                    <h4>ç‰¹åˆ«å¥–åŠ±è¯´æ˜ï¼ˆå¯ç¼–è¾‘ï¼‰</h4>
                    <div id="specialRewardsContent">
                        <!-- å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    <div class="editable-controls">
                        <button class="edit-btn" id="editSpecialRewards">ç¼–è¾‘</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="funds-tab">
            <h2>å›¢é˜Ÿå»ºè®¾èµ„é‡‘ <span class="soul-runner-title">é€æ˜å…¬å¼€</span></h2>
            
            <div class="funds-summary">
                <div class="funds-stats">
                    <div class="funds-card">
                        <div class="stat-value" style="color: var(--secondary);">Â¥<span id="totalFunds">0</span></div>
                        <div class="stat-label">å½“å‰èµ„é‡‘ä½™é¢</div>
                    </div>
                    <div class="funds-card">
                        <div class="stat-value" style="color: var(--primary);"><span id="totalSponsors">0</span>äºº</div>
                        <div class="stat-label">èµåŠ©äººæ•°</div>
                    </div>
                    <div class="funds-card">
                        <div class="stat-value" style="color: var(--accent);"><span id="fundsUsage">0</span>æ¬¡</div>
                        <div class="stat-label">èµ„é‡‘ä½¿ç”¨è®°å½•</div>
                    </div>
                </div>
            </div>

            <div class="funds-actions">
                <h3>æ”¯æŒå›¢é˜Ÿå‘å±•</h3>
                <p style="color: var(--gray); margin-bottom: 15px;">æ‚¨çš„èµåŠ©å°†ç”¨äºå›¢é˜Ÿè£…å¤‡ã€æ´»åŠ¨ç»„ç»‡å’Œè·‘è€…å¥–åŠ±ï¼Œæ‰€æœ‰æ”¶æ”¯å…¬å¼€é€æ˜ã€‚</p>
                <div class="sponsor-options">
                    <button class="btn btn-success sponsor-btn" data-amount="20">èµåŠ©20å…ƒ</button>
                    <button class="btn btn-primary sponsor-btn" data-amount="50">èµåŠ©50å…ƒ</button>
                    <button class="btn btn-info sponsor-btn" data-amount="100">èµåŠ©100å…ƒ</button>
                    <button class="btn btn-warning" id="customAmountBtn">è‡ªå®šä¹‰é‡‘é¢</button>
                </div>
                
                <div id="customAmountInput" style="display: none; margin-top: 15px;">
                    <input type="number" id="customAmount" placeholder="è¾“å…¥èµåŠ©é‡‘é¢" class="form-control" style="width: 200px; display: inline-block;">
                    <button class="btn btn-success" id="submitCustomAmount">ç¡®è®¤èµåŠ©</button>
                </div>
                
                <!-- èµ„é‡‘ä½¿ç”¨è®°å½•è¡¨å• -->
                <div class="usage-record-form">
                    <h4>æ·»åŠ èµ„é‡‘ä½¿ç”¨è®°å½•</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="usageAmount">ä½¿ç”¨é‡‘é¢ (å…ƒ)</label>
                            <input type="number" id="usageAmount" class="form-control" placeholder="ä¾‹å¦‚ï¼š100" min="0">
                        </div>
                        <div class="form-group">
                            <label for="usageDate">ä½¿ç”¨æ—¥æœŸ</label>
                            <input type="date" id="usageDate" class="form-control">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="usageDescription">ç”¨é€”è¯´æ˜</label>
                        <input type="text" id="usageDescription" class="form-control" placeholder="ä¾‹å¦‚ï¼šè´­ä¹°å›¢é˜Ÿè¡¥ç»™å“">
                    </div>
                    <button class="btn btn-primary" id="addUsageRecordBtn">æ·»åŠ ä½¿ç”¨è®°å½•</button>
                </div>
            </div>

            <div class="funds-records">
                <h3>èµ„é‡‘æµæ°´è®°å½•</h3>
                <div id="fundsRecordsContent">
                    <!-- èµ„é‡‘è®°å½•å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>

            <div class="funds-usage">
                <h3>èµ„é‡‘ä½¿ç”¨è®¡åˆ’</h3>
                <div class="usage-plan">
                    <ul>
                        <li>âœ“ å›¢é˜Ÿè·‘æ­¥è£…å¤‡ï¼ˆé˜Ÿæ——ã€å·ç å¸ƒç­‰ï¼‰</li>
                        <li>âœ“ æ´»åŠ¨é¥®ç”¨æ°´å’Œè¡¥ç»™å“</li>
                        <li>âœ“ æ¯”èµ›æŠ¥åè´¹è¡¥è´´</li>
                        <li>âœ“ å¹´åº¦ä¼˜ç§€è·‘è€…å¥–åŠ±</li>
                        <li>âœ“ å›¢é˜Ÿèšä¼šæ´»åŠ¨</li>
                        <li>âœ“ ç³»ç»Ÿç»´æŠ¤å’ŒæŠ€æœ¯æ”¯æŒ</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="records-tab">
            <h2>æ‰“å¡è®°å½•</h2>
            <div id="recordsContent">
                <!-- å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="tab-content" id="charts-tab">
            <h2>æ•°æ®ç»Ÿè®¡å›¾è¡¨</h2>
            <div id="chartsContent">
                <!-- å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="tab-content" id="data-management-tab">
            <h2>æ•°æ®ç®¡ç†</h2>
            <div class="data-management">
                <h3>æ•°æ®å¯¼å‡º</h3>
                <p>å°†å½“å‰è·‘æ­¥æ•°æ®å¯¼å‡ºä¸ºæ–‡ä»¶ï¼Œç”¨äºå¤‡ä»½æˆ–è¿ç§»æ•°æ®ã€‚</p>
                <div class="import-export-options">
                    <button id="exportJsonBtn" class="btn btn-primary">å¯¼å‡ºä¸ºJSON</button>
                    <button id="exportCsvBtn" class="btn btn-info">å¯¼å‡ºä¸ºCSV</button>
                    <button id="copyDataBtn" class="btn btn-warning">å¤åˆ¶æ•°æ®åˆ°å‰ªè´´æ¿</button>
                </div>
                
                <h3>æ•°æ®å¯¼å…¥</h3>
                <p>ä»æ–‡ä»¶å¯¼å…¥å†å²è·‘æ­¥æ•°æ®ï¼Œæ”¯æŒJSONå’ŒCSVæ ¼å¼ã€‚</p>
                <div class="import-export-options">
                    <label for="importFile" class="file-label">
                        é€‰æ‹©å¯¼å…¥æ–‡ä»¶
                    </label>
                    <input type="file" id="importFile" class="file-input" accept=".json,.csv">
                    <button id="importDataBtn" class="btn btn-success">å¯¼å…¥æ•°æ®</button>
                    <button id="clearDataBtn" class="btn btn-danger">æ¸…ç©ºæ‰€æœ‰æ•°æ®</button>
                </div>
                
                <div class="import-format">
                    <h4>æ•°æ®æ ¼å¼è¯´æ˜</h4>
                    <p>JSONæ ¼å¼ç¤ºä¾‹ï¼š</p>
                    <pre>[
  {
    "runner": "å¼ ä¸‰",
    "date": "2023-10-15",
    "distance": 5.2,
    "time": 28,
    "pace": "5:23",
    "feeling": "ç²¾åŠ›å……æ²›",
    "type": "æ™¨è·‘"
  },
  {
    "runner": "æå››",
    "date": "2023-10-15",
    "distance": 4.8,
    "time": 26,
    "pace": "5:25",
    "feeling": "çŠ¶æ€è‰¯å¥½",
    "type": "å¤œè·‘"
  }
]</pre>
                    
                    <p>CSVæ ¼å¼ç¤ºä¾‹ï¼š</p>
                    <pre>è·‘æ­¥è€…,æ—¥æœŸ,é‡Œç¨‹,æ—¶é•¿,é…é€Ÿ,æ„Ÿå—,æ™¨è·‘/å¤œè·‘
å¼ ä¸‰,2023-10-15,5.2,28,5:23,ç²¾åŠ›å……æ²›,æ™¨è·‘
æå››,2023-10-15,4.8,26,5:25,çŠ¶æ€è‰¯å¥½,å¤œè·‘</pre>
                </div>
            </div>
        </div>
        
        <footer>
            <div class="footer-text">æ± å·æ‚¦è·‘å›¢ Â© 2025</div>
            <div class="footer-slogan">å¥åº·ç”Ÿæ´»ï¼Œä»è·‘æ­¥å¼€å§‹</div>
        </footer>
    </div>

    <div id="message" class="message"></div>

    <script>
        // ==================== é…ç½®å’Œåˆå§‹åŒ– ====================
        const CONFIG = {
            // LeanCloudé…ç½® - è¯·æ›¿æ¢ä¸ºæ‚¨çš„å®é™…é…ç½®
            leancloud: {
                appId: 'EbUnWsKPYC9pTbhukuf8aNqe-gzGzoHsz',
                appKey: 'SrUVb4rXu31JoTtnNZ4X07CP', 
                serverURL: 'https://ebunwskp.lc-cn-n1-shared.com'
            },
            // å¤‡ç”¨CDNé…ç½®
            cdns: {
                chartjs: [
                    'https://cdn.bootcdn.net/ajax/libs/Chart.js/3.9.1/chart.min.js',
                    'https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js'
                ],
                leancloud: [
                    'https://cdn.bootcdn.net/ajax/libs/leancloud-storage/4.13.2/av-min.js',
                    '//cdn.jsdelivr.net/npm/leancloud-storage@4.13.2/dist/av-min.js'
                ]
            }
        };

        // ==================== å…¨å±€çŠ¶æ€ ====================
        let AV = null;
        let isCloudMode = false;
        let runningRecords = [];
        let fundsData = {
            totalFunds: 0,
            sponsors: [],
            usageRecords: []
        };
        let pointsData = {};
        let rewardsData = {
            sponsorRights: "æ„Ÿè°¢æ‰€æœ‰èµåŠ©è€…å¯¹æ± å·æ‚¦è·‘å›¢çš„æ”¯æŒï¼æ‚¨çš„èµåŠ©å°†ç”¨äºå›¢é˜Ÿè£…å¤‡é‡‡è´­ã€æ´»åŠ¨ç»„ç»‡ã€è·‘è€…å¥–åŠ±ç­‰æ–¹é¢ã€‚æ‰€æœ‰èµåŠ©è€…éƒ½å°†è·å¾—ç›¸åº”çš„æƒç›Šå’Œè£èª‰ã€‚",
            pointsExchange: "ç§¯åˆ†å…‘æ¢è§„åˆ™ï¼š\n1. æ¯è·‘æ­¥1å…¬é‡Œè·å¾—1ç§¯åˆ†\n2. å¤œè·‘æ¯æ¬¡é¢å¤–å¥–åŠ±5ç§¯åˆ†\n3. ç”¨å¿ƒæ„Ÿå—æ¯æ¬¡é¢å¤–å¥–åŠ±10ç§¯åˆ†\n4. æ¯æœˆå…¨å‹¤é¢å¤–å¥–åŠ±30ç§¯åˆ†\n5. ç§¯åˆ†å¯å…‘æ¢è·‘æ­¥è£…å¤‡ã€é…ä»¶å’Œç‰¹åˆ«å¥–åŠ±",
            specialRewards: "ç‰¹åˆ«å¥–åŠ±è¯´æ˜ï¼š\n1. æœˆåº¦è·‘é‡ç‹ï¼šå½“æœˆè·‘é‡å‰ä¸‰åè·å¾—å®šåˆ¶å¥–ç‰Œ\n2. å¤œè·‘ä¹‹æ˜Ÿï¼šæœˆåº¦å¤œè·‘æ¬¡æ•°æœ€å¤šè€…è·å¾—å¤œè·‘è£…å¤‡\n3. å¿ƒçµè·‘è€…ï¼šç”¨å¿ƒæ„Ÿå—åˆ†äº«æœ€å¤šè€…è·å¾—ç‰¹åˆ«ç¤¼å“\n4. å…¨å‹¤å¥–ï¼šå½“æœˆå…¨å‹¤è·‘è€…è·å¾—è¿åŠ¨è¡¥ç»™åŒ…\n5. è¿›æ­¥å¥–ï¼šé…é€Ÿæå‡æœ€å¿«è€…è·å¾—ä¸“ä¸šæŒ‡å¯¼\n6. å¹´åº¦å¤§å¥–ï¼šå¹´ç»ˆè¯„é€‰å„é¡¹æœ€ä½³ï¼Œä¸°åšå¥–åŠ±"
        };

        // ==================== å·¥å…·å‡½æ•° ====================
        function showLoading(show) {
            const loadingIndicator = document.getElementById('loadingIndicator');
            if (loadingIndicator) {
                loadingIndicator.style.display = show ? 'block' : 'none';
            }
        }

        function showErrorPanel(show, message = '') {
            const errorPanel = document.getElementById('errorPanel');
            if (errorPanel) {
                errorPanel.style.display = show ? 'block' : 'none';
                if (message) {
                    const messageElement = errorPanel.querySelector('p');
                    if (messageElement) {
                        messageElement.textContent = message;
                    }
                }
            }
        }

        function showMessage(text, type) {
            const message = document.getElementById('message');
            message.textContent = text;
            message.className = `message ${type}`;
            message.classList.add('show');
            
            setTimeout(() => {
                message.classList.remove('show');
            }, 3000);
        }

        function getDateString(daysOffset = 0) {
            const date = new Date();
            date.setDate(date.getDate() + daysOffset);
            return date.toISOString().split('T')[0];
        }

        // ==================== èµ„æºåŠ è½½å‡½æ•° ====================
        function loadScript(src) {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = src;
                script.onload = resolve;
                script.onerror = reject;
                document.head.appendChild(script);
            });
        }

        async function loadDependencies() {
            console.log('å¼€å§‹åŠ è½½ä¾èµ–åº“...');
            
            try {
                // å°è¯•åŠ è½½Chart.js
                let chartLoaded = false;
                for (const cdn of CONFIG.cdns.chartjs) {
                    try {
                        await loadScript(cdn);
                        console.log('Chart.js åŠ è½½æˆåŠŸ:', cdn);
                        chartLoaded = true;
                        break;
                    } catch (error) {
                        console.warn('Chart.js åŠ è½½å¤±è´¥:', cdn, error);
                    }
                }
                
                if (!chartLoaded) {
                    console.warn('æ‰€æœ‰Chart.js CDNéƒ½åŠ è½½å¤±è´¥ï¼Œå›¾è¡¨åŠŸèƒ½å°†ä¸å¯ç”¨');
                }

                // å°è¯•åŠ è½½LeanCloud SDK
                let leancloudLoaded = false;
                for (const cdn of CONFIG.cdns.leancloud) {
                    try {
                        await loadScript(cdn);
                        console.log('LeanCloud SDK åŠ è½½æˆåŠŸ:', cdn);
                        leancloudLoaded = true;
                        break;
                    } catch (error) {
                        console.warn('LeanCloud SDK åŠ è½½å¤±è´¥:', cdn, error);
                    }
                }

                if (leancloudLoaded && window.AV) {
                    AV = window.AV;
                    // åˆå§‹åŒ–LeanCloud
                    try {
                        AV.init({
                            appId: CONFIG.leancloud.appId,
                            appKey: CONFIG.leancloud.appKey,
                            serverURL: CONFIG.leancloud.serverURL
                        });
                        isCloudMode = true;
                        console.log('LeanCloud åˆå§‹åŒ–æˆåŠŸï¼Œä½¿ç”¨äº‘ç«¯æ¨¡å¼');
                    } catch (error) {
                        console.error('LeanCloud åˆå§‹åŒ–å¤±è´¥:', error);
                        isCloudMode = false;
                    }
                } else {
                    console.warn('LeanCloud SDK åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°æ¨¡å¼');
                    isCloudMode = false;
                }

                return true;
                
            } catch (error) {
                console.error('åŠ è½½ä¾èµ–åº“å¤±è´¥:', error);
                return false;
            }
        }

        // ==================== æ•°æ®å­˜å‚¨å‡½æ•° ====================
        // æœ¬åœ°å­˜å‚¨å‡½æ•°
        function saveToLocalStorage() {
            try {
                localStorage.setItem('runningRecords', JSON.stringify(runningRecords));
                localStorage.setItem('fundsData', JSON.stringify(fundsData));
                localStorage.setItem('pointsData', JSON.stringify(pointsData));
                localStorage.setItem('rewardsData', JSON.stringify(rewardsData));
                console.log('æ•°æ®å·²ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨');
                return true;
            } catch (error) {
                console.error('ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨å¤±è´¥:', error);
                return false;
            }
        }

        function loadFromLocalStorage() {
            try {
                const runningRecordsStr = localStorage.getItem('runningRecords');
                const fundsDataStr = localStorage.getItem('fundsData');
                const pointsDataStr = localStorage.getItem('pointsData');
                const rewardsDataStr = localStorage.getItem('rewardsData');
                
                if (runningRecordsStr) runningRecords = JSON.parse(runningRecordsStr);
                if (fundsDataStr) fundsData = JSON.parse(fundsDataStr);
                if (pointsDataStr) pointsData = JSON.parse(pointsDataStr);
                if (rewardsDataStr) rewardsData = JSON.parse(rewardsDataStr);
                
                console.log('ä»æœ¬åœ°å­˜å‚¨åŠ è½½æ•°æ®æˆåŠŸ');
                return true;
            } catch (error) {
                console.error('ä»æœ¬åœ°å­˜å‚¨åŠ è½½æ•°æ®å¤±è´¥:', error);
                return false;
            }
        }

        // äº‘ç«¯å­˜å‚¨å‡½æ•°
        async function saveToCloud() {
            if (!isCloudMode || !AV) {
                console.log('äº‘ç«¯æ¨¡å¼æœªå¯ç”¨ï¼Œè·³è¿‡äº‘ç«¯ä¿å­˜');
                return false;
            }

            try {
                const RunningRecord = AV.Object.extend('RunningRecord');
                const FundsData = AV.Object.extend('FundsData');
                const PointsData = AV.Object.extend('PointsData');
                const RewardsData = AV.Object.extend('RewardsData');

                // è¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…ä½¿ç”¨æ—¶éœ€è¦æ›´å®Œæ•´çš„äº‘ç«¯ä¿å­˜é€»è¾‘
                console.log('äº‘ç«¯ä¿å­˜åŠŸèƒ½æš‚æœªå®ç°');
                return true;
            } catch (error) {
                console.error('ä¿å­˜åˆ°äº‘ç«¯å¤±è´¥:', error);
                return false;
            }
        }

        async function loadFromCloud() {
            if (!isCloudMode || !AV) {
                console.log('äº‘ç«¯æ¨¡å¼æœªå¯ç”¨ï¼Œè·³è¿‡äº‘ç«¯åŠ è½½');
                return false;
            }

            try {
                // è¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…ä½¿ç”¨æ—¶éœ€è¦æ›´å®Œæ•´çš„äº‘ç«¯åŠ è½½é€»è¾‘
                console.log('äº‘ç«¯åŠ è½½åŠŸèƒ½æš‚æœªå®ç°');
                return true;
            } catch (error) {
                console.error('ä»äº‘ç«¯åŠ è½½å¤±è´¥:', error);
                return false;
            }
        }

        // ç»Ÿä¸€æ•°æ®ä¿å­˜å‡½æ•°
        async function saveAllData() {
            // æ€»æ˜¯ä¿å­˜åˆ°æœ¬åœ°
            const localSuccess = saveToLocalStorage();
            
            // å¦‚æœäº‘ç«¯å¯ç”¨ï¼Œä¹Ÿä¿å­˜åˆ°äº‘ç«¯
            let cloudSuccess = false;
            if (isCloudMode) {
                cloudSuccess = await saveToCloud();
            }
            
            if (localSuccess) {
                showMessage('æ•°æ®ä¿å­˜æˆåŠŸ' + (cloudSuccess ? 'ï¼ˆå·²åŒæ­¥åˆ°äº‘ç«¯ï¼‰' : 'ï¼ˆæœ¬åœ°æ¨¡å¼ï¼‰'), 'success');
            } else {
                showMessage('æ•°æ®ä¿å­˜å¤±è´¥', 'error');
            }
            
            return localSuccess;
        }

        // ç»Ÿä¸€æ•°æ®åŠ è½½å‡½æ•°
        async function loadAllData() {
            let success = false;
            
            // å…ˆå°è¯•ä»äº‘ç«¯åŠ è½½
            if (isCloudMode) {
                success = await loadFromCloud();
            }
            
            // å¦‚æœäº‘ç«¯åŠ è½½å¤±è´¥æˆ–ä¸å¯ç”¨ï¼Œä»æœ¬åœ°åŠ è½½
            if (!success) {
                success = loadFromLocalStorage();
            }
            
            return success;
        }

        // ==================== åˆå§‹åŒ–å‡½æ•° ====================
        async function initPage() {
            console.log('å¼€å§‹åˆå§‹åŒ–ç³»ç»Ÿ...');
            showLoading(true);
            showErrorPanel(false);

            try {
                // åŠ è½½ä¾èµ–åº“
                const depsLoaded = await loadDependencies();
                
                if (!depsLoaded) {
                    showErrorPanel(true, 'éƒ¨åˆ†ä¾èµ–åº“åŠ è½½å¤±è´¥ï¼Œç³»ç»Ÿå°†ä»¥å—é™æ¨¡å¼è¿è¡Œ');
                }

                // åŠ è½½æ•°æ®
                const dataLoaded = await loadAllData();
                
                if (!dataLoaded) {
                    // åˆå§‹åŒ–é»˜è®¤æ•°æ®
                    initDefaultData();
                }

                // è®¾ç½®é»˜è®¤æ—¥æœŸ
                document.getElementById('runDate').value = getDateString();
                
                // è®¾ç½®äº‹ä»¶ç›‘å¬
                setupEventListeners();
                
                // æ›´æ–°ç•Œé¢
                updateDashboard();
                updateUI();
                
                console.log('ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆï¼Œæ¨¡å¼:', isCloudMode ? 'äº‘ç«¯' : 'æœ¬åœ°');
                showMessage(`ç³»ç»Ÿå·²å°±ç»ªï¼ˆ${isCloudMode ? 'äº‘ç«¯' : 'æœ¬åœ°'}æ¨¡å¼ï¼‰`, 'success');
                
            } catch (error) {
                console.error('åˆå§‹åŒ–å¤±è´¥:', error);
                showErrorPanel(true, 'ç³»ç»Ÿåˆå§‹åŒ–å¤±è´¥: ' + error.message);
            } finally {
                showLoading(false);
            }
        }

        function initDefaultData() {
            // åˆå§‹åŒ–ä¸€äº›ç¤ºä¾‹æ•°æ®
            if (runningRecords.length === 0) {
                runningRecords = [
                    { runner: 'å¼ ä¸‰', date: getDateString(-1), distance: 5.2, time: 28, pace: '5:23', feeling: 'ç²¾åŠ›å……æ²›', type: 'æ™¨è·‘' },
                    { runner: 'æå››', date: getDateString(-1), distance: 4.8, time: 26, pace: '5:25', feeling: 'çŠ¶æ€è‰¯å¥½', type: 'å¤œè·‘' }
                ];
            }
            saveToLocalStorage();
        }

        function setupEventListeners() {
            // é…é€Ÿè®¡ç®—
            document.getElementById('runDistance').addEventListener('input', updatePaceDisplay);
            document.getElementById('runTime').addEventListener('input', updatePaceDisplay);
            
            // æ„Ÿå—é€‰æ‹©
            document.getElementById('runFeeling').addEventListener('change', handleFeelingChange);
            
            // æ‰“å¡æŒ‰é’®
            document.getElementById('addRecordBtn').addEventListener('click', addRunningRecord);
            
            // é‡è¯•æŒ‰é’®
            document.getElementById('retryButton').addEventListener('click', () => {
                location.reload();
            });
        }

        // ==================== ä¸»è¦ä¸šåŠ¡å‡½æ•° ====================
        async function addRunningRecord() {
            const runnerName = document.getElementById('runnerName').value.trim();
            const runDate = document.getElementById('runDate').value;
            const distance = parseFloat(document.getElementById('runDistance').value);
            const time = parseFloat(document.getElementById('runTime').value);
            const feeling = getFinalFeeling();
            const type = document.getElementById('runType').value;
            const pace = document.getElementById('runPace').value;
            
            // éªŒè¯è¾“å…¥
            if (!runnerName) {
                showMessage('è¯·è¾“å…¥è·‘æ­¥è€…å§“å', 'error');
                return;
            }
            
            if (!runDate) {
                showMessage('è¯·é€‰æ‹©è·‘æ­¥æ—¥æœŸ', 'error');
                return;
            }
            
            if (!distance || distance <= 0) {
                showMessage('è¯·è¾“å…¥æœ‰æ•ˆçš„è·‘æ­¥é‡Œç¨‹', 'error');
                return;
            }
            
            if (!time || time <= 0) {
                showMessage('è¯·è¾“å…¥æœ‰æ•ˆçš„è·‘æ­¥æ—¶é•¿', 'error');
                return;
            }
            
            if (!pace) {
                showMessage('è¯·ç¡®ä¿é‡Œç¨‹å’Œæ—¶é•¿è¾“å…¥æ­£ç¡®ä»¥è®¡ç®—é…é€Ÿ', 'error');
                return;
            }
            
            // åˆ›å»ºæ–°è®°å½•
            const newRecord = {
                runner: runnerName,
                date: runDate,
                distance: distance,
                time: time,
                pace: pace,
                feeling: feeling,
                type: type
            };
            
            // æ·»åŠ åˆ°è®°å½•æ•°ç»„
            runningRecords.push(newRecord);
            
            // ä¿å­˜æ•°æ®
            const success = await saveAllData();
            
            if (success) {
                // æ›´æ–°ç•Œé¢
                updateDashboard();
                updateUI();
                
                // é‡ç½®è¡¨å•
                resetForm();
            }
        }

        function resetForm() {
            document.getElementById('runnerName').value = '';
            document.getElementById('runDistance').value = '';
            document.getElementById('runTime').value = '';
            document.getElementById('runPace').value = '';
            document.getElementById('paceResult').textContent = '--:--';
            document.getElementById('runFeeling').value = 'æ­£å¸¸';
            document.getElementById('customFeeling').style.display = 'none';
            document.getElementById('customFeeling').value = '';
            document.getElementById('runType').value = 'æ™¨è·‘';
        }

        function calculatePace(distance, time) {
            if (!distance || !time || distance <= 0 || time <= 0) {
                return null;
            }
            
            const pacePerKm = time / distance;
            const minutes = Math.floor(pacePerKm);
            const seconds = Math.round((pacePerKm - minutes) * 60);
            
            return `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        function updatePaceDisplay() {
            const distance = parseFloat(document.getElementById('runDistance').value);
            const time = parseFloat(document.getElementById('runTime').value);
            
            const pace = calculatePace(distance, time);
            
            if (pace) {
                document.getElementById('paceResult').textContent = pace;
                document.getElementById('runPace').value = pace;
            } else {
                document.getElementById('paceResult').textContent = '--:--';
                document.getElementById('runPace').value = '';
            }
        }

        function handleFeelingChange() {
            const runFeeling = document.getElementById('runFeeling');
            const customFeeling = document.getElementById('customFeeling');
            
            if (runFeeling.value === 'custom') {
                customFeeling.style.display = 'block';
                customFeeling.focus();
            } else {
                customFeeling.style.display = 'none';
                customFeeling.value = '';
            }
        }

        function getFinalFeeling() {
            const runFeeling = document.getElementById('runFeeling');
            const customFeeling = document.getElementById('customFeeling');
            
            if (runFeeling.value === 'custom') {
                return customFeeling.value.trim() || 'æ­£å¸¸';
            }
            return runFeeling.value;
        }

        function updateDashboard() {
            const totalRuns = runningRecords.length;
            const totalDistance = runningRecords.reduce((sum, record) => sum + record.distance, 0);
            const runners = [...new Set(runningRecords.map(record => record.runner))];
            
            let totalPaceSeconds = 0;
            runningRecords.forEach(record => {
                const [minutes, seconds] = record.pace.split(':').map(Number);
                totalPaceSeconds += (minutes * 60 + seconds) * record.distance;
            });
            
            let avgPace = '0:00';
            if (totalDistance > 0) {
                const avgPaceSeconds = totalPaceSeconds / totalDistance;
                const avgMinutes = Math.floor(avgPaceSeconds / 60);
                const avgSeconds = Math.round(avgPaceSeconds % 60);
                avgPace = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            }
            
            document.getElementById('totalRuns').textContent = totalRuns;
            document.getElementById('totalDistance').textContent = totalDistance.toFixed(1) + ' km';
            document.getElementById('totalRunners').textContent = runners.length;
            document.getElementById('avgPace').textContent = avgPace;
        }

        function updateUI() {
            // è¿™é‡Œå¯ä»¥æ·»åŠ å…¶ä»–ç•Œé¢æ›´æ–°é€»è¾‘
            updateDashboard();
            
            // æ›´æ–°è¿è¡Œæ¨¡å¼æ˜¾ç¤º
            const header = document.querySelector('header h1');
            if (header) {
                const existingBadge = header.querySelector('.mode-badge');
                if (existingBadge) {
                    existingBadge.remove();
                }
                
                const modeBadge = document.createElement('span');
                modeBadge.className = 'mode-badge';
                modeBadge.textContent = isCloudMode ? ' â˜ï¸ äº‘ç«¯æ¨¡å¼' : ' ğŸ’» æœ¬åœ°æ¨¡å¼';
                modeBadge.style.fontSize = '0.8rem';
                modeBadge.style.marginLeft = '10px';
                modeBadge.style.verticalAlign = 'middle';
                header.appendChild(modeBadge);
            }
        }

        // ==================== é¡µé¢åŠ è½½ ====================
        document.addEventListener('DOMContentLoaded', initPage);
    </script>
</body>
</html>